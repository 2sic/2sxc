<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Optimizing Template Assets / Client Depedencies (JS &amp; CSS) | 2sxc and EAV 10 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Optimizing Template Assets / Client Depedencies (JS &amp; CSS) | 2sxc and EAV 10 ">
    <meta name="generator" content="docfx 2.46.0.0">
    
    <link rel="shortcut icon" href="../../images/logos/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logos/2sxc-10-50.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../articles/intro.html" title="Articles">Articles</a>
                      </li>
                      <li>
                          <a href="../../concepts/index.html" title="Concepts">Concepts</a>
                      </li>
                      <li>
                          <a href="../../how-to/index.html" title="How To">How To</a>
                      </li>
                      <li>
                          <a href="../../specs/index.html" title="Specs">Specs</a>
                      </li>
                      <li>
                          <a href="../../api/dot-net/index.html" title=".net API">.net API</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../index.html" title="How To Introductions" class="">How To Introductions</a>
                    </li>
                    <li class="">
                      <a href="../dotnet-razor-csharp-overview.html" title="C# / Razor Introduction" class="">C# / Razor Introduction</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Razor & WebApi Objects</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../dynamic-code/entity.html" title="Entity / DynamicEntity" class="">Entity / DynamicEntity</a>
                          </li>
                          <li class="">
                            <a href="../dynamic-code/object-app.html" title="App Object" class="">App Object</a>
                          </li>
                          <li class="">
                            <a href="../dynamic-code/object-data.html" title="Data Object" class="">Data Object</a>
                          </li>
                          <li class="">
                            <a href="../dynamic-code/object-dnn.html" title="Dnn Object" class="">Dnn Object</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../dynamic-code/object-edit.html" title="Edit Object" class="">Edit Object</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../dynamic-code/object-edit.html" title="Edit.Enable (todo)" class="">Edit.Enable (todo)</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="../dynamic-code/object-link.html" title="Link Object" class="">Link Object</a>
                          </li>
                          <li class="">
                            <a href="../dynamic-code/use-named-parameters.html" title="Use Named Parameters" class="">Use Named Parameters</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Razor</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../razor/contextattributes.html" title="Context Attributes" class="">Context Attributes</a>
                          </li>
                          <li class="">
                            <a href="../razor/customizedata.html" title="Customize Data" class="">Customize Data</a>
                          </li>
                          <li class="">
                            <a href="../razor/customizesearch.html" title="Customize Search" class="">Customize Search</a>
                          </li>
                          <li class="">
                            <a class="">todo template</a>
                          </li>
                          <li class="">
                            <a class="">todo purpose</a>
                          </li>
                          <li class="">
                            <a class="">todo contentblock</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Output/Templates</a>
                        
                        <ul class="nav level2">
                          <li class="active">
                            <a href="../output/assets.html" title="Assets" class="active">Assets</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">WebApi</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../webapi/webapis.html" title="WebApis Overview" class="">WebApis Overview</a>
                          </li>
                          <li class="">
                            <a href="../webapi/dotnet-webapi.html" title="Custom WebApi" class="">Custom WebApi</a>
                          </li>
                          <li class="">
                            <a href="../webapi/dotnet-webapi-saveinadam.html" title="SaveInAdam" class="">SaveInAdam</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <a href="../external/dotnet-external-use.html" title="External Use" class="">External Use</a>
                    </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="HowTo.Output.Assets">
<h1 id="optimizing-template-assets--client-depedencies-js--css">Optimizing Template Assets / Client Depedencies (JS &amp; CSS)</h1>

<h2 id="purpose--description">Purpose / Description</h2>
<p>This page is about using DNN Client-Resource-Management aka DNN Client-Depedency-Management in 2sxc templates. </p>
<p>Whenever a template needs additional files, specifically</p>
<ol>
<li>JavaScripts</li>
<li>CSS Styles</li>
<li>Image Resources</li>
<li>Fonts</li>
</ol>
<p>These should be included in an optimized form to enhance performance dramatically. This is all about reducing the amount of server requests (very important for end-user performance) and delivering them in the order / places in the HTML-file, optimal for their purpose. </p>
<p>So far 2sxc will take care of your JS/CSS files by bundling and minifying them, at the position and order you need. </p>
<h2 id="how-to-use">How to use</h2>
<p>Here&#39;s a trivial example for optimizing a CSS with default settings:</p>
<pre><code class="lang-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;/style.css&quot; data-enableoptimizations=&quot;true&quot; /&gt;
</code></pre><p>Here&#39;s a more typical example, showing an optimization for a style &amp; js which are inside the app-folder. This example uses Razor, so we use <code>@App.Path</code> to ensure it&#39;s picking up the right folder (use <code>[App:Path]</code> in token-templates):</p>
<pre><code class="lang-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;@App.Path/assets/style.css&quot;
    data-enableoptimizations=&quot;150&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;@App.Path/assets/lazy.css&quot;
    data-enableoptimizations=&quot;bottom&quot; /&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;@App.Path/assets/scripts.js&quot;
    data-enableoptimizations=&quot;200:bottom&quot; /&gt;
&lt;/script&gt;
</code></pre><p>This shows:</p>
<ol>
<li>a CSS with lower <a href="#understanding-priorities">priority</a> (150 instead of the default 100)</li>
<li>a css with which will be <a href="#understanding-placement">placed</a> at the page bottom (so it will load later)</li>
<li>a script-tag and specifies <a href="#understanding-priorities">priority</a> and <a href="#understanding-placement">placement</a> inside the HTML document</li>
</ol>
<h2 id="how-it-works">How it works</h2>
<p>Basically all <code>&lt;script&gt;</code> tags and all <code>&lt;link rel=&quot;stylesheet&quot;&gt;</code> tags can have a <code>data-enableoptimizations</code> attribute, which the system will parse according to the environments capabilities. In DNN 7/8/9 this means it can</p>
<ul>
<li>can assign priorities (to ensure load-order)</li>
<li>can assign placement in the html-document (head, body, bottom)</li>
</ul>
<h2 id="understanding-priorities">Understanding Priorities</h2>
<p>There is a fairly complicated article in the <a href="http://www.dnnsoftware.com/wiki/client-resource-management-api">dnn wiki about client resource management</a> which explains most of it. In general you can say that all DNN scripts load with priorities below 100, the default for all standard scripts is 100, and from there you can order things as you need them.</p>
<p>We usually prioritize libraries like <code>2sxc</code> or <code>angular.min.js</code> with 100 or larger, and then place our own script (like an app-blog.min.js) at numbers like 200.</p>
<h2 id="understanding-placement">Understanding Placement</h2>
<p>Placement information can only be supplied in 2sxc 8.9 or higher. The three positions are:</p>
<ul>
<li><code>head</code> meaning that the resulting data is requested in the HTML header. So it will be loaded before the page is rendered, meaning it&#39;s available right from the start but also delays page-build. This is often detrimental in terms of page-load times.<br><em>this is the default location for CSS files</em></li>
<li><code>body</code> meaning it will be loaded in the beginning of the HTML body tag. Again this means it&#39;s there very early, but will slow down page buildup.<br><em>this is the default location for JS files</em></li>
<li><code>bottom</code> meaning it will be loaded at the end of the html document. This is actually great for page-loading performance to improve <em>above-the-fold</em> loading. But it takes a bit of work to perfect its application. </li>
</ul>
<h2 id="read-also">Read also</h2>
<ul>
<li><a href="http://www.dnnsoftware.com/wiki/client-resource-management-api">DNN API Documentation</a></li>
<li><a href="http://2sxc.org/en/blog/post/the-trouble-with-dnn-javascript-css-minification-aka-client-dependency-resource-management">Blog about problems with the DNN resource management</a> in case you run into problems</li>
</ul>
<h2 id="demo-app-and-further-links">Demo App and further links</h2>
<p>You should find some code examples in this demo App</p>
<ul>
<li>basically this is used in every app in the <a href="http://2sxc.org/en/apps">app-catalog</a></li>
</ul>
<h2 id="history">History</h2>
<ol>
<li>Introduced in Version 04.00 with true/false</li>
<li>Enhanced in Version 06.00 with priority numbers</li>
<li>Enhanced in 08.09 with position head/body/bottom</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/2sic/2sxc/blob/docs-wiki/ToSIC_SexyContent/Docs-Generator/how-to/output/assets.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
