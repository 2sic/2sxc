<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Concept: In-Page Edit-Item Toolbars and Buttons | 2sxc and EAV 10 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Concept: In-Page Edit-Item Toolbars and Buttons | 2sxc and EAV 10 ">
    <meta name="generator" content="docfx 2.46.0.0">
    
    <link rel="shortcut icon" href="../../images/logos/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logos/2sxc-10-50.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../articles/intro.html" title="Articles">Articles</a>
                      </li>
                      <li>
                          <a href="../../concepts/index.html" title="Concepts">Concepts</a>
                      </li>
                      <li>
                          <a href="../../how-to/index.html" title="How To">How To</a>
                      </li>
                      <li>
                          <a href="../../specs/index.html" title="Specs">Specs</a>
                      </li>
                      <li>
                          <a href="../../api/dot-net/index.html" title=".net API">.net API</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../index.html" title="Concepts Introductions" class="">Concepts Introductions</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Data Concepts</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../data/entities.html" title="Entities" class="">Entities</a>
                          </li>
                          <li class="">
                            <a href="../data/relationships.html" title="Relationships" class="">Relationships</a>
                          </li>
                          <li class="">
                            <a href="../data/content-types.html" title="Content Types" class="">Content Types</a>
                          </li>
                          <li class="">
                            <a href="../data/file-provided-content-types.html" title="File Content-Types" class="">File Content-Types</a>
                          </li>
                          <li class="">
                            <a href="../data/permissions.html" title="Permissions" class="">Permissions</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">CMS</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../cms/edit.html" title="Edit Content" class="">Edit Content</a>
                          </li>
                          <li class="">
                            <a href="../cms/dnn-module.html" title="DNN Modules" class="">DNN Modules</a>
                          </li>
                          <li class="">
                            <a href="../cms/hide-advanced-features.html" title="Hide Features" class="">Hide Features</a>
                          </li>
                          <li class="">
                            <a href="../cms/dnn-evoq-page-publishing.html" title="Page Publishing" class="">Page Publishing</a>
                          </li>
                          <li class="">
                            <a href="../cms/edit-context.html" title="Edit-Context Data" class="">Edit-Context Data</a>
                          </li>
                          <li class="">
                            <a href="../cms/inner-content.html" title="Inner Content" class="">Inner Content</a>
                          </li>
                          <li class="active">
                            <a href="../cms/inpage-toolbars.html" title="Edit Toolbars" class="active">Edit Toolbars</a>
                          </li>
                          <li class="">
                            <a href="../cms/quick-edit.html" title="Quick-Edit (QuickE)" class="">Quick-Edit (QuickE)</a>
                          </li>
                          <li class="">
                            <a href="../cms/tokens.html" title="Tokens" class="">Tokens</a>
                          </li>
                          <li class="">
                            <a href="../cms/views.html" title="Views" class="">Views</a>
                          </li>
                          <li class="">
                            <a href="../cms/polymorph.html" title="Polymorph" class="">Polymorph</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">WIP</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../data/metadata.html" title="Metadata" class="">Metadata</a>
                          </li>
                          <li class="">
                            <a class="">App</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Concepts.EditToolbar">
<h1 id="concept-in-page-edit-item-toolbars-and-buttons">Concept: In-Page Edit-Item Toolbars and Buttons</h1>

<p>2sxc provides super-fast in-page buttons and toolbars for the content-editor to manage and edit everything. The system is very advanced, so what at first may seem trivial can become very complex as you go deeper into customizing it. This is why we are providing an overview.</p>
<p><img src="/assets/concepts/inpage-toolbar/example-hover-toolbar.png" alt="hover inline toolbar example"></p>
<h2 id="best-practice-hover-vs-inline-toolbars">Best Practice: Hover vs. Inline Toolbars</h2>
<p>The toolbars for the editor can be hovering above the elements - usually appearing on mouse-over, or directly inline. Hover-toolbars can also be configured to always be visible, but this is a rare use case.</p>
<blockquote><p><strong>Recommendation</strong><br>Hover-Toolbars are highly recommended. These appear when the mouse moves over the item to be edited. It gives the editor a perfect preview of the page, without cluttering the screen with buttons.</p>
<p>Toolbars which hover and are always visible make sense for buttons which the editor may not discover on his own if they are not always visible, or when the item to hover on would be very small, and hard to discover.</p>
<p>Inline (non-hovering) toolbars which are always visible should be used as rarely as possible. A good use for this are admin-tables where each row should directly show the edit-button in a buttons-column.</p>
</blockquote>
<h2 id="how-the-system-work">How the System Work</h2>
<p>To make the magic work, these parts are involved:</p>
<ol>
<li><p>Server side code detects that editing is allowed. This automatically adds <strong>context-information</strong> to the module in the form of a hidden JSON attribute. You can see these large attributes in the source-code if you are logged in. It also ensures that the edit-javascripts are loaded by the page.</p>
<ol>
<li>This is either auto-detected, because the user has edit-rights</li>
<li>Or it was explicitly enabled using [<code>@Edit.Enable(...)</code> in razor](xref:Razor.EditEnable].</li>
</ol>
</li>
<li><p>Server side code adds stuff to mark where toolbars should appear...</p>
<ol>
<li>...either (new in 2sxc 9.40) it adds hidden JSON attributes called <code>sxc-toolbar=&#39;{...}&#39;</code> to any tag that should have a hover-menu with the desired <strong>configuration</strong> and <strong>settings</strong>, added like this<br><a class="xref" href="../../how-to/razor/edittoolbar.html"><code>&lt;div @Edit.TagToolbar(...)&gt;...&lt;/div&gt;</code> in razor</a></li>
<li>...or it adds an empty <code>&lt;ul toolbar=&#39;{...}&#39; settings=&#39;{...}&gt;</code> tag to the page, also with the <strong>configuration</strong> and <strong>settings</strong>, added using <a class="xref" href="../../how-to/razor/edittoolbar.html"><code>@Edit.Toolbar(...)</code> in razor</a> or the <code>[Content.Toolbar]</code> equivalent in <a href="http://2sxc.org/en/Learn/Token-Templates-and-Views">tokens</a>. These toolbars can also hover using an old convention of adding an <code>sc-element</code> class, but that is deprecated since 2sxc 9.40.</li>
</ol>
</li>
<li><p>JavaScript on the client looks at the HTML and picks up both the special <code>&lt;ul&gt;</code> tags as well as all tags having the <code>sxc-toolbar</code> attribute, reads the configuration and generates the necessary html-tags with the buttons and hover-effects. Based on the <strong>context-information</strong> and the <strong>configuration</strong> it will choose if advanced button should appear (like edit-template, which only admins should see). Special hover-placement and other visual things are picked up from the <strong>settings</strong>.</p>
</li>
<li><p>If an editor interacts with the menu, each click will result in JavaScript looking at the <em>closest</em> <strong>context-information</strong> in the page, and using this information to run a <a class="xref" href="../../specs/js/commands.html">command</a> like <code>edit</code>, <code>new</code> or <code>template-develop</code>.</p>
</li>
<li><p>When a command has completed, certain code may reload the view, either using ajax or by reloading the page if ajax is not supported by this particular view.</p>
</li>
</ol>
<h2 id="short-example">Short Example</h2>
<p>The toolbar system is 100% JavaScript but offers special helpers to improve the experience in other dev-environments. Here&#39;s a simple example using Razor:</p>
<pre><code class="lang-Razor">&lt;h1 @Edit.TagToolbar(Content)&gt;
  @Content.Title
&lt;/h1&gt;
</code></pre><p>This creates a invisible toolbar which appears and hovers when the mouse moves over the <code>&lt;h1&gt;</code> tag (if the user has edit-permissions). The toolbar has all the buttons for this <code>Content</code> item.</p>
<p>The next example is similar, but instead of all default buttons it only shows the edit-button:</p>
<pre><code class="lang-Razor">&lt;h1 @Edit.TagToolbar(Content, actions: &quot;edit&quot;)&gt;
  @Content.Title
&lt;/h1&gt;
</code></pre><h2 id="basic-toolbar-concepts-and-functionality">Basic Toolbar Concepts and Functionality</h2>
<ol>
<li>each toolbar is specific to a content-item</li>
<li>a page can have many toolbars, each for a different element / purpose</li>
<li>usually toolbars are invisible until the mouse hovers over the area to be edited (best practice, but configurable)</li>
<li>various show and hover/float behaviors</li>
<li>each toolbar is fully customizable - both in regards to which buttons are shown as well as how they are grouped, how they look etc.</li>
<li>toolbars are multi-language</li>
<li>easy to add in your template or to your JS Apps</li>
<li>mobile capable with <a href="http://2sxc.org/en/blog/post/introducing-shake-mobile-content-editing-just-turned-sexy">shake support</a></li>
</ol>
<h2 id="how-to-use">How to Use</h2>
<p>We&#39;ll try to provide you with full details of the toolbars for advanced use cases. But in most cases you will need the default toolbars minimal or no customizations. For these common cases you should continue on.</p>
<ul>
<li><a class="xref" href="../../how-to/razor/edittoolbar.html">Razor @Edit.TagToolbar(...) attribute</a> (hovering, recommended)</li>
<li><a class="xref" href="../../how-to/razor/edittoolbar.html">Razor @Edit.Toolbar(...)</a> (non-hovering)</li>
<li><a href="http://2sxc.org/en/Learn/Token-Templates-and-Views">Token Toolbars</a> (using simpler placeholder templates)</li>
</ul>
<h2 id="core-javascript-architecture-parts">Core JavaScript Architecture Parts</h2>
<h3 id="commands">Commands</h3>
<p>This is what is executed when a button is clicked. Commands are things like <code>edit</code>. Some commands need additional parameters like <code>EntityId</code>, resulting in a command more like <code>run(&#39;edit&#39;, {EntityId: 27})</code>.  Commands can also be run without toolbars, for example from <em>edit</em> links in tables etc.</p>
<p>You can read more about Commands, incl. the full list of current command, parameters and how to create custom commands in the <a class="xref" href="../../specs/js/commands.html">Commands</a> section.</p>
<h3 id="buttons">Buttons</h3>
<p>This is a square thingy with an icon, which is will run a <em>Command</em>. When the button is created, it is fully configured with icon, commmand and command-parameters.</p>
<ol>
<li><p><strong>Button-Group</strong>: This is a set of one or more -Buttons_ which are shown together. Often there will be a <code>more</code> button at one end of the set, which will show another button-group when clicked.</p>
</li>
<li><p><strong>Toolbar</strong>: This is a set of one or more <em>Button-Groups</em>.</p>
</li>
<li><p><strong>Toolbar Builder</strong>: This is an API-layer which builds the HTML for the <em>Toolbar</em>.</p>
</li>
<li><p><strong>Toolbar Bootstrapper</strong>: This will pick up HTML placeholders for toolbars and run the <em>Toolbar Builder</em> for these.</p>
</li>
<li><p><strong>Defaults</strong>: For the entire chain to work properly, various initial configurations</p>
</li>
</ol>
<h2 id="read-also">Read also</h2>
<ul>
<li><a class="xref" href="quick-edit.html">quickE - the quick-edit hover toolbar</a> - the quick-edit hover-toolbar for inserting/moving modules</li>
<li><a href="http://2sxc.org/en/blog/post/designing-articles-with-inner-content-blocks-new-in-8-4-like-modules-inside-modules">Inner Content Blocks</a> - blog about inner content-blocks</li>
</ul>
<h2 id="demo-app-and-further-links">Demo App and further links</h2>
<p>You should find some code examples in this demo App</p>
<ul>
<li><a class="xref" href="http://2sxc.org/en/apps/app/dnn-blog-app-for-dnn-dotnetnuke">2sxc blog</a></li>
</ul>
<h2 id="history">History</h2>
<ol>
<li>Added toolbars in 2sxc 1.0 ca. 2011</li>
<li>hundreds of ongoing optimizations</li>
<li>Added new feature with the <code>Edit.TagToolbar</code> which works using an <code>sxc-toolbar</code> attribute instead of an <code>&lt;ul&gt;</code> tag in 2sxc 9.40. In this version we also changed the CSS functionality to not use the <code>sc-element</code> attribute, but still support it for backward compatibility.</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/2sic/2sxc/blob/docs-wiki/ToSIC_SexyContent/Docs-Generator/concepts/cms/inpage-toolbars.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
