"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_monaco-editor_index_ts-projects_eav-ui_src_app_shared_directi-e88d8b"],{5501:(I,_,m)=>{m.d(_,{T:()=>g.T,n:()=>v});var g=m(1551),u=m(6362),C=m(3184);let v=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[u.ez]]}),p})()},1551:(I,_,m)=>{m.d(_,{T:()=>d});var g=m(3184);const C="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(c=>c.trim().toLocaleLowerCase());class v{constructor(t,e,s,n,i,o,l){this.monaco=t,this.filename=e,this.snippets=o,this.tooltips=l,this.globalCache=this.createGlobalCache(t),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=s,this.editorInstance=this.createInstance(this.monaco,e,s,n,i),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(n,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){var t;this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(e=>e.dispose()),null===(t=this.jsTypingsLib)||void 0===t||t.dispose(),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(t){this.cachedValue!==t&&(this.cachedValue=t,this.editorInstance.getModel().setValue(t))}focus(){this.editorInstance.focus()}onValueChange(t){this.valueChangedCallback=t}onFocus(t){this.focusedCallback=t}onBlur(t){this.blurredCallback=t}insertSnippet(t){this.editorInstance.getContribution("snippetController2").insert(t)}setSnippets(t){this.snippets=t}setTooltips(t){this.tooltips=t}setJsonSchema(t){var e,s,n;const i=this.editorInstance.getModel().uri.toString(),o=this.monaco.languages.json.jsonDefaults.diagnosticsOptions,l=null!==(s=null===(e=o.schemas)||void 0===e?void 0:e.some(h=>h.fileMatch[0]===i))&&void 0!==s&&s,a="link"===(null==t?void 0:t.type)?{uri:t.value,fileMatch:[i]}:"raw"===(null==t?void 0:t.type)?{uri:i,fileMatch:[i],schema:JSON.parse(t.value)}:void 0;if(!l&&!a)return;const r=Object.assign(Object.assign({},o),{enableSchemaRequest:!0,schemas:l&&!a?o.schemas.filter(h=>h.fileMatch[0]!==i):l?o.schemas.map(h=>h.fileMatch[0]===i?a:h):[...null!==(n=o.schemas)&&void 0!==n?n:[],a]});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(r)}setJsonComments(t){if(!t)return;const e=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{comments:t});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(e)}setJsDiagnostics(t){if(!t)return;const e=Object.assign(Object.assign({},this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions()),t);this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(e)}setJsTypings(t){var e;t?this.jsTypingsLib=this.monaco.languages.typescript.javascriptDefaults.addExtraLib(t,`js-typings-${this.filename}`):null===(e=this.jsTypingsLib)||void 0===e||e.dispose()}createGlobalCache(t){return null==t._2sxc&&(t._2sxc={themesAreDefined:!1,savedStates:{}}),t._2sxc}defineThemes(t,e){t.themesAreDefined||(t.themesAreDefined=!0,e.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}],colors:{}}))}createInstance(t,e,s,n,i){const o=t.editor.create(n,i),l=t.Uri.file(e),a=t.editor.createModel(s,void 0,l);return o.setModel(a),o}saveState(t,e){const s=e.getModel().uri.toString(),n=JSON.stringify(e.saveViewState());null==t.savedStates[s]?t.savedStates[s]={viewState:n}:t.savedStates[s].viewState=n}restoreState(t,e){const s=e.getModel().uri.toString(),n=t.savedStates[s];if(null==n)return;const i=JSON.parse(n.viewState);e.restoreViewState(i)}addSnippets(t,e){return[t.languages.registerCompletionItemProvider(e.getModel().getLanguageId(),{triggerCharacters:[">"],provideCompletionItems:(n,i)=>{if(e.getModel()!==n)return{suggestions:[]};const o=n.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(">"!==o[o.length-1])return{suggestions:[]};const a=o.lastIndexOf("<");if(-1===a)return{suggestions:[]};const r=o.substring(a);let h=0;if(Array.from(r).forEach(D=>{'"'===D&&h++}),h%2!=0)return{suggestions:[]};if(r.startsWith("</"))return{suggestions:[]};if(r.indexOf(">")!==r.length-1)return{suggestions:[]};let f=r.indexOf(" ");if(-1===f&&(f=r.indexOf(">")),-1===f)return{suggestions:[]};const b=r.substring(1,f);return b?C.includes(b.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(b)?{suggestions:[{label:`</${b}>`,kind:t.languages.CompletionItemKind.Snippet,insertText:`$0</${b}>`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:i.column,endColumn:i.column}}]}:{suggestions:[]}:{suggestions:[]}}}),t.languages.registerCompletionItemProvider(e.getModel().getLanguageId(),{provideCompletionItems:(n,i)=>{if(null==this.snippets||e.getModel()!==n)return{suggestions:[]};const o=n.getWordUntilPosition(i);return{suggestions:this.snippets.map(a=>{var r,h,f;return a.content?{label:a.name,kind:t.languages.CompletionItemKind.Snippet,documentation:`${null!==(r=a.title)&&void 0!==r?r:""}\n${null!==(h=a.help)&&void 0!==h?h:""}\n${null!==(f=a.links)&&void 0!==f?f:""}`,insertText:a.content,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}).filter(a=>!!a)}}}),t.languages.registerHoverProvider(e.getModel().getLanguageId(),{provideHover:(n,i)=>{if(null==this.tooltips||e.getModel()!==n)return;const o=n.getWordAtPosition(i);if(!o)return;const l=this.tooltips.find(a=>a.Term===o.word);return l?{contents:l.Help.map(a=>({value:a})),range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}})]}createResizeObserver(t,e){const s=new ResizeObserver(()=>{e.layout()});return s.observe(t),s}addEvents(t){t.getModel().onDidChangeContent(()=>{var e;const s=t.getModel().getValue();s!==this.cachedValue&&(this.cachedValue=s,null===(e=this.valueChangedCallback)||void 0===e||e.call(this,s))}),t.onDidFocusEditorWidget(()=>{var e;null===(e=this.focusedCallback)||void 0===e||e.call(this)}),t.onDidBlurEditorWidget(()=>{var e;null===(e=this.blurredCallback)||void 0===e||e.call(this)})}}const p=["editor"];let d=(()=>{class c{constructor(){this.autoFocus=!1,this.valueChanged=new g.vpe,this.focused=new g.vpe,this.blurred=new g.vpe}ngAfterViewInit(){window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs"]}}),window.require(["vs/editor/editor.main"],e=>{this.monaco=e,this.createEditor(this.autoFocus)})}ngOnChanges(e){var s,n,i,o,l,a,r;null!=e.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=e.value&&(null===(s=this.monacoInstance)||void 0===s||s.updateValue(this.value)),null!=e.jsonSchema&&(null===(n=this.monacoInstance)||void 0===n||n.setJsonSchema(this.jsonSchema)),null!=e.jsonComments&&(null===(i=this.monacoInstance)||void 0===i||i.setJsonComments(this.jsonComments)),null!=e.snippets&&(null===(o=this.monacoInstance)||void 0===o||o.setSnippets(this.snippets)),null!=e.tooltips&&(null===(l=this.monacoInstance)||void 0===l||l.setTooltips(this.tooltips)),null!=e.jsTypings&&(null===(a=this.monacoInstance)||void 0===a||a.setJsTypings(this.jsTypings)),null!=e.jsDiagnostics&&(null===(r=this.monacoInstance)||void 0===r||r.setJsDiagnostics(this.jsDiagnostics))}insertSnippet(e){var s,n;null===(s=this.monacoInstance)||void 0===s||s.insertSnippet(e),null===(n=this.monacoInstance)||void 0===n||n.focus()}ngOnDestroy(){var e;null===(e=this.monacoInstance)||void 0===e||e.destroy()}createEditor(e){this.monacoInstance=new v(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets,this.tooltips),this.monacoInstance.setJsonSchema(this.jsonSchema),this.monacoInstance.setJsonComments(this.jsonComments),this.monacoInstance.setJsTypings(this.jsTypings),this.monacoInstance.setJsDiagnostics(this.jsDiagnostics),this.monacoInstance.onValueChange(s=>{this.valueChanged.emit(s)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),e&&this.monacoInstance.focus()}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-monaco-editor"]],viewQuery:function(e,s){if(1&e&&g.Gf(p,5),2&e){let n;g.iGM(n=g.CRH())&&(s.editorRef=n.first)}},inputs:{filename:"filename",value:"value",snippets:"snippets",tooltips:"tooltips",options:"options",jsonSchema:"jsonSchema",jsonComments:"jsonComments",jsTypings:"jsTypings",jsDiagnostics:"jsDiagnostics",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[g.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(e,s){1&e&&g._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]}),c})()},6108:(I,_,m)=>{m.d(_,{D:()=>C});var g=m(4361),u=m(3184);let C=(()=>{class v{constructor(d){this.globalConfigService=d}onClick(d){(navigator.platform.match("Mac")?d.metaKey:d.ctrlKey)&&d.shiftKey&&d.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}return v.\u0275fac=function(d){return new(d||v)(u.Y36(g.bE))},v.\u0275dir=u.lG2({type:v,selectors:[["","appToggleDebug",""]],hostBindings:function(d,c){1&d&&u.NdJ("click",function(e){return c.onClick(e)})}}),v})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/14.12.00/ng-edit/default-projects_eav-ui_src_app_monaco-editor_index_ts-projects_eav-ui_src_app_shared_directi-e88d8b.1116212e3114c2ed.js.map